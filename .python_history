from faster_whisper import WhisperModel
model = WhisperModel("small", device="cpu")
segments, info = model.transcribe(
    "test.ogg",
    language="ms",
    beam_size=5,
    vad_filter=True,
    initial_prompt="Bahasa Melayu. Frasa: waktu asar gombak. Waktu solat: subuh zohor asar maghrib isyak."
)
text = " ".join([s.text for s in segments]).strip()
print("Detected:", info.language, info.language_probability)
print("TEXT:", text)
from stt_faster_whisper import transcribe_faster
from router import get_response
audio = "test.ogg"  # tukar ke audio_2026-...ogg pun boleh
text = transcribe_faster(audio)
print("STT:", text)
reply = get_response(text, ollama_model="llama3:latest")
print("BOT:", reply)
exit()
